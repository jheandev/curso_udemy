<!doctype html>
<html>
    <head>
    <title>Curso Javascript completo 2018</title>
    <meta charset="utf-8">


 <script src="beluga.js"></script>

</head>
<body>
    <div class="container">
        <h1>Curso Javascript completo 2018</h1>
    </div>



    <section>
        <div class="container">

            <h2>Média dos alunos</h2>
            <table class="table js-tabela">
                <thead>
                    <tr>
                        <th>Nome</th>                       
                        <th>Nota1</th>
                        <th>Nota2</th>
                        <th>Nota3</th>
                        <th>Nota4</th>
                        <th>Media</th>
                    </tr>
                </thead>
                
                <tbody>
                    <tr class="aluno">
                        <td class="aluno-nome">Gertrude</td>
                        <td class="aluno-n1">10</td>
                        <td class="aluno-n2">8.5</td>
                        <td class="aluno-n3">9</td>
                        <td class="aluno-n4">7.5</td>
                        <td class="aluno-m"></td>
                    </tr>

                    <tr class="aluno">
                        <td class="aluno-nome">Rey</td>
                        <td class="aluno-n1">5</td>
                        <td class="aluno-n2">8.5</td>
                        <td class="aluno-n3">6.5</td>
                        <td class="aluno-n4">7.5</td>
                        <td class="aluno-m"></td>
                    </tr>

                    <tr class="aluno">
                        <td class="aluno-nome">Jessilda</td>
                        <td class="aluno-n1">0</td>
                        <td class="aluno-n2">8.5</td>
                        <td class="aluno-n3">7</td>
                        <td class="aluno-n4">7.5</td>
                        <td class="aluno-m"></td>
                    </tr>



                    <tr class="aluno">
                        <td class="aluno-nome">Lindóia</td>
                        <td class="aluno-n1">6.5</td>
                        <td class="aluno-n2">8.5</td>
                        <td class="aluno-n3">10</td>
                        <td class="aluno-n4">7.5</td>
                        <td class="aluno-m"></td>
                    </tr>
                       
                    <tr class="aluno">
                        <td class="aluno-nome">Greysson</td>
                        <td class="aluno-n1">10</td>
                        <td class="aluno-n2">9.5</td>
                        <td class="aluno-n3">10</td>
                        <td class="aluno-n4">8.5</td>
                        <td class="aluno-m"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>

    <script>

     (function(){
        var trs = document.querySelectorAll('.js-tabela tbody .aluno');

        var x = 0;
        while(trs[x]){
            var linhaAluno = trs[x];
            console.log(linhaAluno);

      
          var linhaAluno = trs[x];
          var tds = linhaAluno.querySelectorAll('td');
          var notas = recuperarNumerosDeColunas(tds);

     

         //var temZero = notas.some(function(nota){
                 //return nota === 0;

        // });

         var temZero = notas.some( nota => nota === 0 );
         

         var mensagem = temZero ? 'reprovado' : 
         calcularMedia.apply(this, notas);   

          linhaAluno.querySelector('.aluno-m').textContent = mensagem;
            x++;
        }

        function recuperarNumerosDeColunas(tds){
            var x= 0;
            var arr = [];
            while( tds[x] ){
                  if( !isNaN( tds[x].textContent ) && tds[x].textContent !== '' ){
                    arr.push( parseFloat (tds[x].textContent ) );

                  }
                x++;
            }

            return arr;

        }

     })()





    </script>
</body>
</html>