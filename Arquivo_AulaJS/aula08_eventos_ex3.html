<!DOCTYPE html>
<html>
    <head>
        <title>Curso Javascript completo 2018</title>
        <meta charset="utf-8">

    </head>

    <body>
        <div class="container">
            <h1>Curso javascript completo 2018</h1>
           
            <textarea id="msg" cols="50" rows="10" maxlength="100"></textarea>
          
          <div id="restaContainer" style="display:none;"> Restam <span id="resta"></span> caracteres</div> 
           

        </div>


        <script>
         
         (function(){
            'use strict';

            var maxima = 100;

            var $txtMsg = document.getElementById('msg');
            var $restaContainer =  document.getElementById('restaContainer');
            var $resta = document.getElementById('resta');
            var maxima = $txtMsg.maxLength;

            function mostrarContainerResta(){
                $restaContainer.style.display = 'block';

            }

            mostrarContainerResta();
            mostraCaractresRestantes(maxima);
            $txtMsg.addEventListener('input', checkLength);


       
          function checkLength(e){

            var numeroLetrasDigitadas = this.value.length;
            var caracteresRestantes = parseInt( maxima )- 
            parseInt(numeroLetrasDigitadas);
            mostraCaractresRestantes(caracteresRestantes);
        
          }

          function mostraCaractresRestantes(n){
            $resta.textContent = n;
          }
   

        })()
      

        
        </script>
    </body>
</html>